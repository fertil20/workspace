<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<div>
  <h2>Reset Your Password</h2>
</div>
<body>
<form th:action="@{/api/auth/reset_password}" method="post" style="max-width: 350px; margin: 0 auto;">
  <input type="hidden" name="token" th:value="${token}" />
  <div class="border border-secondary rounded p-3">
    <div>
      <p>
        <label for="password">
        <input type="password" name="password" id="password" class="form-control"
               placeholder="Enter new password" required autofocus onkeyup='check();'/>
        </label>
      </p>
      <p>
        <label for="confirm_password">
          <input type="password" name="confirmPassword" id="confirm_password" class="form-control"
                 placeholder="Confirm new password" required autofocus onkeyup='check();'/>
          <span id='message'></span>
        </label>
      </p>
      <p class="text-center">
        <input id="button" type="submit"  value="Change Password" class="btn btn-primary" />
      </p>
    </div>
  </div>
</form>
<script type="text/javascript">
  const check = function () {
    if (document.getElementById('password').value ===
            document.getElementById('confirm_password').value) {
      document.getElementById('message').style.color = 'green';
      document.getElementById('message').innerHTML = 'matching';
      document.getElementById("button").removeAttribute("disabled");
    } else {
      document.getElementById('message').style.color = 'red';
      document.getElementById('message').innerHTML = 'not matching';
      document.getElementById("button").setAttribute("disabled","disabled");
    }
  };
</script>
</body>
</html>